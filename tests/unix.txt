f0:(u0,r)
f1:(u0,w)->(u1,r)
f2:(u0,rw)->(u1,r)->(u2,r)->(u3,w)